<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="ğŸ¥§æœ‰æ²¡æœ‰æ›´ç®€å•å¼ºåŠ¿çš„è¯­è¨€(?)">
<meta property="og:type" content="article">
<meta property="og:title" content="å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ">
<meta property="og:url" content="https://www.gubaiovo.com/posts/cd2fe6a3.html">
<meta property="og:site_name" content="GuBai">
<meta property="og:description" content="ğŸ¥§æœ‰æ²¡æœ‰æ›´ç®€å•å¼ºåŠ¿çš„è¯­è¨€(?)">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://image.gubaiovo.com/blog/post_img/dev/%E5%AE%89%E5%8D%93%E7%8E%AF%E5%A2%83%E4%B8%8BLua%E5%AE%89%E5%8D%93%E5%BC%80%E5%8F%91%E5%88%9D%E4%BD%93%E9%AA%8C/Screenshot_20250209_085812.jpg">
<meta property="og:image" content="https://image.gubaiovo.com/blog/post_img/dev/%E5%AE%89%E5%8D%93%E7%8E%AF%E5%A2%83%E4%B8%8BLua%E5%AE%89%E5%8D%93%E5%BC%80%E5%8F%91%E5%88%9D%E4%BD%93%E9%AA%8C/image-20250209091439376.png">
<meta property="og:image" content="https://image.gubaiovo.com/blog/post_img/dev/%E5%AE%89%E5%8D%93%E7%8E%AF%E5%A2%83%E4%B8%8BLua%E5%AE%89%E5%8D%93%E5%BC%80%E5%8F%91%E5%88%9D%E4%BD%93%E9%AA%8C/Screenshot_20250209_092427.jpg">
<meta property="article:published_time" content="2025-02-09T02:41:30.000Z">
<meta property="article:modified_time" content="2026-02-15T09:20:27.317Z">
<meta property="article:author" content="gubai">
<meta property="article:tag" content="Dev">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://image.gubaiovo.com/blog/post_img/dev/%E5%AE%89%E5%8D%93%E7%8E%AF%E5%A2%83%E4%B8%8BLua%E5%AE%89%E5%8D%93%E5%BC%80%E5%8F%91%E5%88%9D%E4%BD%93%E9%AA%8C/Screenshot_20250209_085812.jpg">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 7.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="ç›®å½•"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="ç›®å½•"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="é¡¶éƒ¨" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">é¦–é¡µ</a></li><!--
     --><!--
       --><li><a href="/about/">å…³äº</a></li><!--
     --><!--
       --><li><a href="/archives/">æ–‡ç« </a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/gubaiovo">é¡¹ç›®</a></li><!--
     --><!--
       --><li><a href="/search/">æœç´¢</a></li><!--
     --><!--
       --><li><a href="/categories/">åˆ†ç±»</a></li><!--
     --><!--
       --><li><a href="/links/">é“¾æ¥</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="ä¸Šä¸€ç¯‡" href="/posts/4338f95.html"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="ä¸‹ä¸€ç¯‡" href="/posts/8c718629.html"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="è¿”å›é¡¶éƒ¨" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="åˆ†äº«æ–‡ç« " href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">ä¸Šä¸€ç¯‡</span>
      <span id="i-next" class="info" style="display:none;">ä¸‹ä¸€ç¯‡</span>
      <span id="i-top" class="info" style="display:none;">è¿”å›é¡¶éƒ¨</span>
      <span id="i-share" class="info" style="display:none;">åˆ†äº«æ–‡ç« </span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://www.gubaiovo.com/posts/cd2fe6a3.html"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://www.gubaiovo.com/posts/cd2fe6a3.html&text=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://www.gubaiovo.com/posts/cd2fe6a3.html&title=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.gubaiovo.com/posts/cd2fe6a3.html&is_video=false&description=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ&body=Check out this article: https://www.gubaiovo.com/posts/cd2fe6a3.html"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://www.gubaiovo.com/posts/cd2fe6a3.html&title=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://www.gubaiovo.com/posts/cd2fe6a3.html&title=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://www.gubaiovo.com/posts/cd2fe6a3.html&title=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://www.gubaiovo.com/posts/cd2fe6a3.html&title=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://www.gubaiovo.com/posts/cd2fe6a3.html&name=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://www.gubaiovo.com/posts/cd2fe6a3.html&t=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83"><span class="toc-number">1.1.</span> <span class="toc-text">ç¯å¢ƒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.2.</span> <span class="toc-text">åˆ›å»ºé¡¹ç›®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E5%86%99%E5%B8%83%E5%B1%80"><span class="toc-number">1.3.</span> <span class="toc-text">ç¼–å†™å¸ƒå±€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E5%86%99%E9%80%BB%E8%BE%91"><span class="toc-number">1.4.</span> <span class="toc-text">ç¼–å†™é€»è¾‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%94%B3%E8%AF%B7"><span class="toc-number">1.5.</span> <span class="toc-text">æƒé™ç”³è¯·</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E5%AF%BC%E5%87%BA"><span class="toc-number">1.6.</span> <span class="toc-text">æ„å»ºå¯¼å‡º</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BE%8E%E5%8C%96%E5%B8%83%E5%B1%80"><span class="toc-number">1.7.</span> <span class="toc-text">ç¾åŒ–å¸ƒå±€</span></a></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">gubai</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2025-02-09T02:41:30.000Z" class="dt-published" itemprop="datePublished">2025-02-09</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/Dev/">Dev</a>
    </div>


      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/Dev/" rel="tag">Dev</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h1>å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ</h1>
<blockquote>
<p>å®¶é‡Œè€äººå¹´çºªå¤§äº†ï¼Œè®°ä¸ä½æ‰‹æœºæ€ä¹ˆæ“ä½œï¼Œä¸¤å¤©é—®äº†äº”éæ€ä¹ˆå…¨åˆ å›¾ç‰‡ï¼Œé‚å°è¯•å®‰å“å¼€å‘ï¼Œä¸€é”®æ¸…ç©ºå›¾ç‰‡/è§†é¢‘ã€‚ä¸€å¼€å§‹å°è¯• Javaï¼Œè™½ç„¶æœ‰è¿‡ Java å­¦ä¹ ç»éªŒï¼Œä½†çŸ­æ—¶é—´ä¸Šæ‰‹å®‰å“å®åœ¨å¤´å¤§ï¼Œé€‰æ‹©äº†æ›´ç®€å•çµæ´»çš„Lua</p>
</blockquote>
<p>æ¨èé˜…è¯»ï¼š<a target="_blank" rel="noopener" href="https://doc.kulipai.top/posts/10%E5%88%86%E9%92%9F%E7%94%A8%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E5%BC%80%E5%8F%91%E5%AE%89%E5%8D%93.html">10åˆ†é’Ÿç”¨å®‰å“æ‰‹æœºå¼€å‘å®‰å“</a></p>
<h2 id="ç¯å¢ƒ">ç¯å¢ƒ</h2>
<p><strong>å·¥å…·</strong>ï¼šNeLuaJ+ï¼Œå¯é€‰ MT ç®¡ç†å™¨ï¼Œä¸€ä¸ªå¥½ç”¨çš„ai(dsï¼Œcopilotâ€¦)</p>
<p><strong>ç¯å¢ƒ</strong>ï¼šå®‰å“</p>
<p><strong>æ‰€æœ‰ç”¨åˆ°çš„å·¥å…·å’Œæˆæœ  è“å¥äº‘</strong>ï¼š<a target="_blank" rel="noopener" href="https://wwre.lanzouq.com/b0ul17nve">https://wwre.lanzouq.com/b0ul17nve</a>  å¯†ç :8rqk</p>
<p>NeLuaJ+ Builderä¸ºé…å¥—æ„å»ºå·¥å…·ï¼ŒNeLuaJ+ä¸ºç¼–å†™å·¥å…·</p>
<p><strong>ç›®æ ‡å®‰å“ç‰ˆæœ¬</strong>ï¼šå®‰å“9 &amp; å®‰å“12</p>
<h2 id="åˆ›å»ºé¡¹ç›®">åˆ›å»ºé¡¹ç›®</h2>
<p>è¿›å…¥ NeLuaJ+ ï¼Œå³ä¸Šè§’ <code>ç«–ç€çš„ä¸‰ä¸ªç‚¹</code> é€‰æ‹© <code>é¡¹ç›®...</code> â†’ <code>åˆ›å»ºé¡¹ç›®</code></p>
<p><img src="https://image.gubaiovo.com/blog/post_img/dev/%E5%AE%89%E5%8D%93%E7%8E%AF%E5%A2%83%E4%B8%8BLua%E5%AE%89%E5%8D%93%E5%BC%80%E5%8F%91%E5%88%9D%E4%BD%93%E9%AA%8C/Screenshot_20250209_085812.jpg" alt="Screenshot_20250209_085812"></p>
<p>æ ¹æ®éœ€è¦ä¿®æ”¹è½¯ä»¶åç§°å’ŒåŒ…åï¼Œé€‰æ‹©éœ€è¦çš„æ¨¡å—ã€‚ä»¥ <code>ä¸€é”®æ¸…ç©ºå›¾ç‰‡/è§†é¢‘</code> ä¸ºä¾‹ï¼Œä¿®æ”¹åå­—åç›´æ¥åˆ›å»º</p>
<p>èµ·åä¸º <code>imgCleaner</code> ï¼Œå³ä¸Šè§’ <code>æ¨ªç€çš„ä¸‰æ¡æ </code> ä¸‹è¿›å…¥æ ¹ç›®å½• <code>/storage/emulated/0/LuaJ/Project/imgCleaner/</code></p>
<p>ä¸‹æ–‡æ‰€æœ‰ <code>./</code> å³ä¸º <code>/storage/emulated/0/LuaJ/Project/imgCleaner/</code>ï¼Œä¹Ÿå°±æ˜¯é¡¹ç›®æ ¹ç›®å½•ä¸‹</p>
<p><img src="https://image.gubaiovo.com/blog/post_img/dev/%E5%AE%89%E5%8D%93%E7%8E%AF%E5%A2%83%E4%B8%8BLua%E5%AE%89%E5%8D%93%E5%BC%80%E5%8F%91%E5%88%9D%E4%BD%93%E9%AA%8C/image-20250209091439376.png" alt="image-20250209091439376"></p>
<h2 id="ç¼–å†™å¸ƒå±€">ç¼–å†™å¸ƒå±€</h2>
<p>é¢„æœŸæ•ˆæœä¸ºï¼šä¸¤ä¸ªæŒ‰é’®ï¼Œä¸€ä¸ªä¸€é”®åˆ æ‰å›¾ç‰‡ï¼Œä¸€ä¸ªä¸€é”®åˆ æ‰è§†é¢‘</p>
<p>å…ˆåˆ›å»ºä¸¤ä¸ªæŒ‰é’®(Button)ï¼Œè¿›å…¥ <code>./res/layout/main.lua</code> ï¼Œè¿™é‡Œç¼–å†™å¸ƒå±€</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> &#123;  </span><br><span class="line">  LinearLayout,  <span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>,  <span class="comment">--ç«–å‘æ’åˆ—</span></span><br><span class="line">  layout_width=<span class="string">&quot;match&quot;</span>,  <span class="comment">--å®½åº¦æœ€å¤§</span></span><br><span class="line">  layout_height=<span class="string">&quot;match&quot;</span>,  <span class="comment">--é«˜åº¦æœ€å¤§</span></span><br><span class="line">  gravity=<span class="string">&quot;center&quot;</span>,  <span class="comment">--å­ç©ºé—´å±…ä¸­</span></span><br><span class="line">  &#123;</span><br><span class="line">    AppCompatTextView, <span class="comment">--æ–‡æœ¬æ§ä»¶</span></span><br><span class="line">    text=<span class="string">&quot;Hello NeLuaJ+&quot;</span>, <span class="comment">--æ–‡å­—</span></span><br><span class="line">   &#125;,</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>é»˜è®¤æä¾›äº†åœ¨å±å¹•æ­£ä¸­å¤®æ˜¾ç¤º <code>Hello NeLuaJ+</code> çš„æ ·ä¾‹æ–‡å­—ã€‚ç¼–å†™è¿‡ç¨‹ä¸­å¯ä»¥éšæ—¶åœ¨ <code>å±å¹•æ­£ä¸Šæ–¹çš„é»‘è‰²ä¸‰è§’å½¢</code> â†’ <code>è¿è¡Œå·¥ç¨‹</code> ä¸­æµ‹è¯•è½¯ä»¶ã€‚</p>
<p>åˆ æ‰æ–‡æœ¬ï¼Œæ·»åŠ ä¸¤ä¸ªButtonæ§ä»¶</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import <span class="string">&quot;android.widget.*&quot;</span>, <span class="string">&quot;androidx.appcompat.widget.*&quot;</span>;</span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">  LinearLayout, <span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>, <span class="comment">--ç«–å‘æ’åˆ—</span></span><br><span class="line">  layout_width=<span class="string">&quot;match&quot;</span>, <span class="comment">--å®½åº¦æœ€å¤§</span></span><br><span class="line">  layout_height=<span class="string">&quot;match&quot;</span>, <span class="comment">--é«˜åº¦æœ€å¤§</span></span><br><span class="line">  gravity=<span class="string">&quot;center&quot;</span>, <span class="comment">--å­ç©ºé—´å±…ä¸­</span></span><br><span class="line">  &#123;</span><br><span class="line">    Button, <span class="comment">--æŒ‰é’®æ§ä»¶</span></span><br><span class="line">    text=<span class="string">&quot;æ¸…ç†å›¾ç‰‡&quot;</span>, <span class="comment">--æŒ‰é’®æ˜¾ç¤ºçš„æ–‡å­—(å¯é€‰ï¼Œæ²¡æœ‰textçš„è¯ä¼šæ˜¾ç¤ºæ²¡æœ‰æ–‡å­—çš„æŒ‰é’®)</span></span><br><span class="line">    id=<span class="string">&quot;imgclean&quot;</span>, <span class="comment">--æŒ‰é’®idï¼Œè¿™ä¸ªidæ˜¯ç‹¬ä¸€æ— äºŒæŒ‡å‘è¿™ä¸ªbuttonï¼Œæ”¯æŒä¸­æ–‡(ä¸å»ºè®®ä¸­æ–‡ç¼–ç¨‹)</span></span><br><span class="line">    layout_width = <span class="string">&quot;200dp&quot;</span>, <span class="comment">--æŒ‰é’®å®½åº¦(å¯é€‰)</span></span><br><span class="line">    layout_height = <span class="string">&quot;100dp&quot;</span>, <span class="comment">--æŒ‰é’®é«˜åº¦(å¯é€‰)</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    Button,</span><br><span class="line">    text=<span class="string">&quot;æ¸…ç†è§†é¢‘&quot;</span>,</span><br><span class="line">    id=<span class="string">&quot;movclean&quot;</span>,</span><br><span class="line">    layout_width = <span class="string">&quot;200dp&quot;</span>,</span><br><span class="line">    layout_height = <span class="string">&quot;100dp&quot;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ·»åŠ å¥½æ§ä»¶åå°è¯•è¿è¡Œï¼ŒæˆåŠŸæ˜¾ç¤ºä¸¤ä¸ªæŒ‰é’®</p>
<p><img src="https://image.gubaiovo.com/blog/post_img/dev/%E5%AE%89%E5%8D%93%E7%8E%AF%E5%A2%83%E4%B8%8BLua%E5%AE%89%E5%8D%93%E5%BC%80%E5%8F%91%E5%88%9D%E4%BD%93%E9%AA%8C/Screenshot_20250209_092427.jpg" alt="Screenshot_20250209_092427"></p>
<h2 id="ç¼–å†™é€»è¾‘">ç¼–å†™é€»è¾‘</h2>
<p>ç°åœ¨æŒ‰é’®æ²¡æœ‰åŠŸèƒ½ï¼Œéœ€è¦è¿”å›åˆ° <code>./main.lua</code> ç¼–å†™</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import <span class="string">&quot;java.lang.*&quot;</span>,<span class="string">&quot;java.util.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span>,<span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.*&quot;</span>,<span class="string">&quot;android.provider.*&quot;</span></span><br><span class="line">activity &#123;</span><br><span class="line">  Title = res.<span class="built_in">string</span>.app_title,</span><br><span class="line">  ContentView = res.layout.main</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨é»˜è®¤æä¾›çš„æ¨¡æ¿<strong>ä¸‹æ–¹</strong>ç¼–å†™é€»è¾‘</p>
<p>é¦–å…ˆç¼–å†™ä¸¤ä¸ªæŒ‰é’®ç‚¹å‡»é€»è¾‘</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">imgclean.onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span> <span class="comment">-- ButtonId.onClick=function() ä¸ºèµ·å§‹è¯­å¥</span></span><br><span class="line">  deleteMedia(<span class="string">&quot;image&quot;</span>) <span class="comment">-- è°ƒç”¨å‡½æ•°ï¼ŒdeleteMediaç¨åç¼–å†™</span></span><br><span class="line"><span class="keyword">end</span> <span class="comment">-- endä¸ºç»“æŸè¯­å¥</span></span><br><span class="line"></span><br><span class="line">movclean.onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  deleteMedia(<span class="string">&quot;vedio&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ®µç›¸å¯¹å¥½ç†è§£ï¼Œå½“æŒ‰ä¸‹å¯¹åº”idçš„æŒ‰é’®åï¼Œå¯¹åº”çš„äº‹ä»¶ä¸ºï¼šè°ƒç”¨deleteMedia()å‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªå‚æ•°(éœ€è¦åˆ é™¤çš„æ–‡ä»¶ç±»å‹)ï¼Œç„¶åendç»“æŸ</p>
<p>ä¸‹é¢ç¼–å†™ deleteMedia()ï¼Œé¦–å…ˆå†™ä¸ªæ¶å­</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deleteMedia</span><span class="params">(type)</span></span></span><br><span class="line">  <span class="keyword">local</span> uri</span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">type</span> == <span class="string">&quot;image&quot;</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ­£åœ¨æ¸…ç†å›¾ç‰‡&quot;</span>)</span><br><span class="line">    uri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">type</span> == <span class="string">&quot;vedio&quot;</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ­£åœ¨æ¸…ç†è§†é¢‘&quot;</span>)</span><br><span class="line">    uri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">        </span><br><span class="line">  ......</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>typeå³ä¸ºæŒ‰é’®ä¼ è¿›æ¥çš„å‚æ•°ï¼Œå¦‚æœå­¦è¿‡å…¶ä»–è¯­è¨€ï¼Œè¿™é‡Œtypeåº”è¯¥å¥½ç†è§£ï¼Œå°±æ˜¯å½¢å‚</p>
<p>å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œï¼Œéœ€è¦çŸ¥é“æ–‡ä»¶åœ¨å“ªã€‚å®‰å“æä¾›äº† <code>è®¿é—®å…±äº«å­˜å‚¨ç©ºé—´ä¸­çš„åª’ä½“æ–‡ä»¶</code> çš„æ–¹æ³•</p>
<p><a target="_blank" rel="noopener" href="https://developer.android.google.cn/training/data-storage/shared/media?hl=zh-cn#java">è®¿é—®å…±äº«å­˜å‚¨ç©ºé—´ä¸­çš„åª’ä½“æ–‡ä»¶</a></p>
<blockquote>
<p>ç§‘æ™®</p>
<p>URIï¼ˆUniform Resource <strong>Identifier</strong>ï¼‰ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼Œ<strong>ä¸€æ¡ç”¨æ¥æ ‡è¯†æŠ½è±¡æˆ–ç‰©ç†èµ„æºçš„ç´§å‡‘å­—ç¬¦ä¸²ï¼Œé€šè¿‡è¿™ä¸ªæ ‡è¯†å¯ä»¥è®¿é—®ä¸€ä¸ªå”¯ä¸€çš„èµ„æº</strong><br>
URLï¼ˆUniform Resource <strong>Locator</strong>ï¼‰ç»Ÿä¸€èµ„æºå®šä½ç¬¦</p>
</blockquote>
<p>è®¿é—®åª’ä½“èµ„æºï¼Œå¯ä»¥é€šè¿‡ <code>MediaStore.media-type.Media.EXTERNAL_CONTENT_URI</code> å¾—åˆ°åª’ä½“èµ„æºuri</p>
<p>å…¶ä¸­ <code>media-type</code> å°±æ˜¯åª’ä½“èµ„æºçš„ç±»å‹</p>
<table>
<thead>
<tr>
<th>æ–‡ä»¶ç±»å‹</th>
<th>media-type</th>
</tr>
</thead>
<tbody>
<tr>
<td>å›¾ç‰‡</td>
<td>Images</td>
</tr>
<tr>
<td>è§†é¢‘</td>
<td>Video</td>
</tr>
<tr>
<td>éŸ³é¢‘</td>
<td>Audio</td>
</tr>
<tr>
<td>ä¸‹è½½çš„æ–‡ä»¶</td>
<td>Downloads</td>
</tr>
</tbody>
</table>
<p>ä»¥è§†é¢‘ä¸ºä¾‹ï¼Œè§†é¢‘çš„uriä¸º <code>MediaStore.Video.Media.EXTERNAL_CONTENT_URI</code></p>
<p>lua å®šä¹‰å˜é‡å‚è€ƒ <a target="_blank" rel="noopener" href="https://www.runoob.com/lua/lua-variables.html">Lua å˜é‡</a></p>
<p>çŸ¥é“æ–‡ä»¶åœ¨å“ª(uri)äº†ä»¥åï¼Œå°±å¯ä»¥åˆ é™¤äº†ã€‚ç»§ç»­ç¼–å†™</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deleteMedia</span><span class="params">(type)</span></span></span><br><span class="line">  <span class="keyword">local</span> uri</span><br><span class="line">  <span class="keyword">local</span> Type</span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">type</span> == <span class="string">&quot;image&quot;</span> <span class="keyword">then</span></span><br><span class="line">    Type = <span class="string">&quot;å›¾ç‰‡&quot;</span></span><br><span class="line">    uri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">type</span> == <span class="string">&quot;vedio&quot;</span> <span class="keyword">then</span></span><br><span class="line">    Type = <span class="string">&quot;è§†é¢‘&quot;</span></span><br><span class="line">    uri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">        </span><br><span class="line">  <span class="keyword">local</span> contentResolver = activity.getContentResolver() </span><br><span class="line">  <span class="keyword">local</span> rowsDeleted = contentResolver.delete(uri, <span class="literal">nil</span>, <span class="literal">nil</span>)</span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">tostring</span>(rowsDeleted)..<span class="string">&quot;ä¸ª&quot;</span>..Type..æ¸…ç†å®Œæˆ)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p><code>local contentResolver = activity.getContentResolver()</code> è·å¾—äº†å½“å‰æ´»åŠ¨çš„å†…å®¹è§£æå™¨ï¼ˆContent Resolverï¼‰ã€‚å†…å®¹è§£æå™¨æ˜¯ä¸€ä¸ªæ¥å£ï¼Œæä¾›å¯¹åº”ç”¨ç¨‹åºå†…æ•°æ®çš„è®¿é—®ã€‚</p>
<p><code>local rowsDeleted = contentResolver.delete(uri, nil, nil)</code>ï¼šä½¿ç”¨å†…å®¹è§£æå™¨åˆ é™¤æŒ‡å®š URI çš„æ•°æ®ã€‚</p>
<p><code>Content Resolver</code> çš„ <code>delete()</code> å‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°</p>
<p>åŸå‹ï¼š<code>delete(Uri uri,  String where, selectionArgs)</code></p>
<p>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºuriï¼Œç¬¬äºŒä¸‰ä¸ªå‚æ•°ä¸ºçº¦æŸæ¡ä»¶ï¼Œè¿”å›è¢«åˆ é™¤çš„è¡Œæ•°ï¼Œ<code>nil</code> è¡¨ç¤ºæ²¡æœ‰é€‰æ‹©æ¡ä»¶</p>
<p>printå†…å®¹ä¸ºå­—ç¬¦ä¸²ï¼Œéœ€è¦è½¬æ¢ <code>rowsDeleted</code> ç±»å‹ï¼Œä½¿ç”¨ <code>tostring()</code> å‡½æ•°å³å¯</p>
<p>åœ¨printå†…å®¹ä¸­æ·»åŠ å˜é‡ä½¿ç”¨ <code>..</code>  ï¼ˆä¸ªäººç†è§£<code>..</code> ç›¸å½“äº <code>+</code>ï¼‰</p>
<p>ä¸»è¦é€»è¾‘ä¾¿ç¼–å†™å®Œæˆ</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deleteMedia</span><span class="params">(type)</span></span></span><br><span class="line">  <span class="keyword">local</span> uri</span><br><span class="line">  <span class="keyword">local</span> Type</span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">type</span> == <span class="string">&quot;image&quot;</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ­£åœ¨æ¸…ç†å›¾ç‰‡&quot;</span>)</span><br><span class="line">    Type = <span class="string">&quot;å›¾ç‰‡&quot;</span></span><br><span class="line">    uri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">type</span> == <span class="string">&quot;vedio&quot;</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">--print(&quot;æ­£åœ¨æ¸…ç†è§†é¢‘&quot;)</span></span><br><span class="line">    Type = <span class="string">&quot;è§†é¢‘&quot;</span></span><br><span class="line">    uri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">    </span><br><span class="line">  <span class="keyword">local</span> contentResolver = activity.getContentResolver()</span><br><span class="line">  <span class="keyword">local</span> rowsDeleted = contentResolver.delete(uri, <span class="literal">nil</span>, <span class="literal">nil</span>)</span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">tostring</span>(rowsDeleted)..<span class="string">&quot;ä¸ª&quot;</span>..Type..<span class="string">&quot;æ¸…ç†å®Œæ¯•&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">imgclean.onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  deleteMedia(<span class="string">&quot;image&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">movclean.onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  deleteMedia(<span class="string">&quot;vedio&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h2 id="æƒé™ç”³è¯·">æƒé™ç”³è¯·</h2>
<p>å®‰å“å†ä»£æ–‡ä»¶ä¿æŠ¤å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç«  <a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_48179608/article/details/122838494">ã€å®‰å“åŸºç¡€ã€‘ä¸€æ–‡ææ‡‚Androidå†ä»£ç‰ˆæœ¬æ–‡ä»¶è®¿é—®æƒé™å˜åŒ–</a></p>
<p><code>./init.lua</code> ä¸­ï¼Œæœ‰ <code>target_sdk</code>   <code>min_sdk</code>   <code>user_permission</code> ä¸‰ä¸ªé€‰é¡¹</p>
<p><code>target_sdk</code>   <code>min_sdk</code> åˆ†åˆ«ä¸ºç›®æ ‡sdkå’Œæœ€ä½sdk</p>
<blockquote>
<p>ç§‘æ™®ï¼šSDKæ˜¯ä»€ä¹ˆ</p>
<p>â€œSDKâ€ æ˜¯ Software Development Kit çš„ç¼©å†™ï¼Œä¸­æ–‡è¯‘ä¸ºè½¯ä»¶å¼€å‘å·¥å…·åŒ…ã€‚å®ƒæ˜¯ä¸€ç»„ç”¨äºå¼€å‘è½¯ä»¶çš„å·¥å…·ã€åº“ã€ç¤ºä¾‹ä»£ç å’Œæ–‡æ¡£çš„é›†åˆï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…æ›´å®¹æ˜“åœ°æ„å»ºã€é›†æˆå’Œä½¿ç”¨ç‰¹å®šçš„è½¯ä»¶æˆ–æœåŠ¡ã€‚</p>
</blockquote>
<p>ä¸åŒå®‰å“ç‰ˆæœ¬å¯¹åº”ä¸åŒçš„sdkï¼Œå‚è€ƒæ–‡ç«  <a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42690281/article/details/131640670">Androidç‰ˆæœ¬ä¸SDK/APIç‰ˆæœ¬ã€JDKå¯¹åº”å…³ç³»</a></p>
<p>target_sdkè¿‡é«˜ï¼Œå¯¹æ–‡ä»¶æ“ä½œä¸èƒ½åªåœ¨<code>user_permission</code> åŠ  <code>WRITE_EXTERNAL_STORAGE</code> ï¼Œéœ€è¦åŠ¨æ€ç”³è¯·æƒé™ï¼Œä¹Ÿå°±æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶ç”³è¯·æƒé™ï¼Œè¯¸å¦‚å¹³å¸¸å®‰è£…æ–°åº”ç”¨ï¼Œå¼¹çª—ç”³è¯·è°ƒç”¨xxxxï¼Œç”³è¯·xxxxè®¿é—®æƒé™ä¸€æ ·</p>
<p>è¿™é‡Œæ˜¯åŠ¨æ€ç”³è¯·æƒé™æ¨¡æ¿</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--AndroidåŠ¨æ€æƒé™ç”³è¯·,å›è°ƒå’Œæ£€æŸ¥</span></span><br><span class="line"><span class="comment">--æƒé™çš„ç”³è¯·åº”å½“éµå¾ªâ€œè°éœ€è¦ï¼Œè°ç”³è¯·â€ï¼Œæƒé™é€šè¿‡åˆ™æ‰§è¡Œï¼Œä¸é€šè¿‡åˆ™ä¸æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">--æ—¢ä¸åº”è¯¥ä¸€å¯åŠ¨å°±å…¨ç”³è¯·ï¼Œä¹Ÿä¸åº”è¯¥ç”³è¯·ä¸åº”éœ€è¦çš„æƒé™</span></span><br><span class="line"><span class="comment">--å‡è®¾æœ‰æŸä¸ªéœ€æ±‚éœ€è¦æƒé™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;æŸä¸ªéœ€è¦æƒé™çš„æ“ä½œ&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--å®šä¹‰è¯·æ±‚ç </span></span><br><span class="line"><span class="keyword">local</span> permissionRequestCode = <span class="number">10</span></span><br><span class="line"><span class="comment">--ç”³è¯·æƒé™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">requestPermissions</span><span class="params">(permissions, requestCode)</span></span></span><br><span class="line">  <span class="keyword">local</span> ActivityCompat = luajava.bindClass <span class="string">&quot;androidx.core.app.ActivityCompat&quot;</span></span><br><span class="line">  <span class="keyword">return</span> ActivityCompat.requestPermissions(activity, permissions, requestCode);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ç”³è¯·æƒé™çš„å›è°ƒåœ¨è¿™é‡Œæ‰§è¡Œ</span></span><br><span class="line">onRequestPermissionsResult=<span class="function"><span class="keyword">function</span><span class="params">(requestCode, permissions, grantResults)</span></span></span><br><span class="line">  <span class="keyword">local</span> PackageManager = luajava.bindClass <span class="string">&quot;android.content.pm.PackageManager&quot;</span></span><br><span class="line">  <span class="comment">--åˆ¤æ–­æ˜¯ä¸æ˜¯è‡ªå·±çš„æƒé™ç”³è¯·</span></span><br><span class="line">  <span class="keyword">if</span> requestCode==permissionRequestCode <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">local</span> count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">local</span> Manifest = luajava.bindClass <span class="string">&quot;android.Manifest&quot;</span></span><br><span class="line">    <span class="keyword">for</span> i=<span class="number">0</span>,#permissions<span class="number">-1</span> <span class="keyword">do</span></span><br><span class="line">      <span class="keyword">if</span> grantResults[i] == PackageManager.PERMISSION_GRANTED <span class="keyword">then</span></span><br><span class="line">        <span class="comment">--print(permissions[i]..&quot;æƒé™é€šè¿‡&quot;)</span></span><br><span class="line">        count = count + <span class="number">1</span></span><br><span class="line">        <span class="comment">--å‡å¦‚éœ€è¦çš„æƒé™è¢«é€šè¿‡äº†</span></span><br><span class="line">        <span class="keyword">if</span> permissions[i]==Manifest.permission.READ_EXTERNAL_STORAGE <span class="keyword">then</span></span><br><span class="line">          fun()</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">        <span class="comment">--print(permissions[i]..&quot;æƒé™æ‹’ç»&quot;)</span></span><br><span class="line">        <span class="keyword">if</span> permissions[i]==Manifest.permission.READ_EXTERNAL_STORAGE <span class="keyword">then</span></span><br><span class="line">          <span class="built_in">print</span>(<span class="string">&quot;æ‰§è¡Œfun()éœ€è¦çš„æƒé™æœªé€šè¿‡&quot;</span>)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç”³è¯·äº†&quot;</span>..#permissions..<span class="string">&quot;ä¸ªæƒé™ï¼Œé€šè¿‡äº†&quot;</span>..count..<span class="string">&quot;ä¸ªæƒé™&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ç¤ºä¾‹</span></span><br><span class="line"><span class="comment">--è¦ç”³è¯·çš„æƒé™åˆ—è¡¨ï¼Œè¯·å†™æˆå¸¸é‡ä»¥å…è‡ªå·±å†™é”™</span></span><br><span class="line"><span class="comment">--æ‰€æœ‰çš„æƒé™å¸¸é‡å®šä¹‰åœ¨Manifestçš„å†…éƒ¨ç±»permissioné‡Œï¼Œå†™æ³•å¦‚ä¸‹</span></span><br><span class="line"><span class="keyword">local</span> Manifest = luajava.bindClass <span class="string">&quot;android.Manifest&quot;</span></span><br><span class="line"><span class="comment">--ä»¥å‚¨å­˜æƒé™ä¸ºä¾‹</span></span><br><span class="line"><span class="keyword">local</span> requirePermissions =</span><br><span class="line">&#123;</span><br><span class="line">  Manifest.permission.WRITE_EXTERNAL_STORAGE,</span><br><span class="line">  Manifest.permission.READ_EXTERNAL_STORAGE</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">--å‘èµ·è¯·æ±‚</span></span><br><span class="line">requestPermissions(requirePermissions, permissionRequestCode)</span><br><span class="line"><span class="comment">--æ£€æŸ¥æƒé™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkPermission</span><span class="params">(permission)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>==activity.checkSelfPermission(permission)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--å•çº¯æ£€æŸ¥ä¸€ä¸‹æœ‰æ²¡æœ‰æŒ‡å®šæƒé™</span></span><br><span class="line"><span class="keyword">local</span> flag = checkPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;WRITE_EXTERNAL_STORAGEæ£€æŸ¥ç»“æœ&quot;</span>..<span class="built_in">tostring</span>(flag))</span><br></pre></td></tr></table></figure>
<p>å°†è¿™äº›æ·»åŠ åˆ° <code>./main.lua</code> ä¸­å³å¯</p>
<p><code>./main.lua</code> å®Œæ•´ä»£ç å¦‚ä¸‹</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">import <span class="string">&quot;java.lang.*&quot;</span>,<span class="string">&quot;java.util.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span>,<span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.*&quot;</span>,<span class="string">&quot;android.provider.*&quot;</span></span><br><span class="line">activity &#123;</span><br><span class="line">  Title = res.<span class="built_in">string</span>.app_title,</span><br><span class="line">  ContentView = res.layout.main</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">--AndroidåŠ¨æ€æƒé™ç”³è¯·,å›è°ƒå’Œæ£€æŸ¥</span></span><br><span class="line"><span class="comment">--æƒé™çš„ç”³è¯·åº”å½“éµå¾ªâ€œè°éœ€è¦ï¼Œè°ç”³è¯·â€ï¼Œæƒé™é€šè¿‡åˆ™æ‰§è¡Œï¼Œä¸é€šè¿‡åˆ™ä¸æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">--æ—¢ä¸åº”è¯¥ä¸€å¯åŠ¨å°±å…¨ç”³è¯·ï¼Œä¹Ÿä¸åº”è¯¥ç”³è¯·ä¸åº”éœ€è¦çš„æƒé™</span></span><br><span class="line"><span class="comment">--å‡è®¾æœ‰æŸä¸ªéœ€æ±‚éœ€è¦æƒé™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;æŸä¸ªéœ€è¦æƒé™çš„æ“ä½œ&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--å®šä¹‰è¯·æ±‚ç </span></span><br><span class="line"><span class="keyword">local</span> permissionRequestCode = <span class="number">10</span></span><br><span class="line"><span class="comment">--ç”³è¯·æƒé™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">requestPermissions</span><span class="params">(permissions, requestCode)</span></span></span><br><span class="line">  <span class="keyword">local</span> ActivityCompat = luajava.bindClass <span class="string">&quot;androidx.core.app.ActivityCompat&quot;</span></span><br><span class="line">  <span class="keyword">return</span> ActivityCompat.requestPermissions(activity, permissions, requestCode);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ç”³è¯·æƒé™çš„å›è°ƒåœ¨è¿™é‡Œæ‰§è¡Œ</span></span><br><span class="line">onRequestPermissionsResult=<span class="function"><span class="keyword">function</span><span class="params">(requestCode, permissions, grantResults)</span></span></span><br><span class="line">  <span class="keyword">local</span> PackageManager = luajava.bindClass <span class="string">&quot;android.content.pm.PackageManager&quot;</span></span><br><span class="line">  <span class="comment">--åˆ¤æ–­æ˜¯ä¸æ˜¯è‡ªå·±çš„æƒé™ç”³è¯·</span></span><br><span class="line">  <span class="keyword">if</span> requestCode==permissionRequestCode <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">local</span> count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">local</span> Manifest = luajava.bindClass <span class="string">&quot;android.Manifest&quot;</span></span><br><span class="line">    <span class="keyword">for</span> i=<span class="number">0</span>,#permissions<span class="number">-1</span> <span class="keyword">do</span></span><br><span class="line">      <span class="keyword">if</span> grantResults[i] == PackageManager.PERMISSION_GRANTED <span class="keyword">then</span></span><br><span class="line">        <span class="comment">--print(permissions[i]..&quot;æƒé™é€šè¿‡&quot;)</span></span><br><span class="line">        count = count + <span class="number">1</span></span><br><span class="line">        <span class="comment">--å‡å¦‚éœ€è¦çš„æƒé™è¢«é€šè¿‡äº†</span></span><br><span class="line">        <span class="keyword">if</span> permissions[i]==Manifest.permission.READ_EXTERNAL_STORAGE <span class="keyword">then</span></span><br><span class="line">          fun()</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">        <span class="comment">--print(permissions[i]..&quot;æƒé™æ‹’ç»&quot;)</span></span><br><span class="line">        <span class="keyword">if</span> permissions[i]==Manifest.permission.READ_EXTERNAL_STORAGE <span class="keyword">then</span></span><br><span class="line">          <span class="built_in">print</span>(<span class="string">&quot;æ‰§è¡Œfun()éœ€è¦çš„æƒé™æœªé€šè¿‡&quot;</span>)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç”³è¯·äº†&quot;</span>..#permissions..<span class="string">&quot;ä¸ªæƒé™ï¼Œé€šè¿‡äº†&quot;</span>..count..<span class="string">&quot;ä¸ªæƒé™&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ç¤ºä¾‹</span></span><br><span class="line"><span class="comment">--è¦ç”³è¯·çš„æƒé™åˆ—è¡¨ï¼Œè¯·å†™æˆå¸¸é‡ä»¥å…è‡ªå·±å†™é”™</span></span><br><span class="line"><span class="comment">--æ‰€æœ‰çš„æƒé™å¸¸é‡å®šä¹‰åœ¨Manifestçš„å†…éƒ¨ç±»permissioné‡Œï¼Œå†™æ³•å¦‚ä¸‹</span></span><br><span class="line"><span class="keyword">local</span> Manifest = luajava.bindClass <span class="string">&quot;android.Manifest&quot;</span></span><br><span class="line"><span class="comment">--ä»¥å‚¨å­˜æƒé™ä¸ºä¾‹</span></span><br><span class="line"><span class="keyword">local</span> requirePermissions =</span><br><span class="line">&#123;</span><br><span class="line">  Manifest.permission.WRITE_EXTERNAL_STORAGE,</span><br><span class="line">  Manifest.permission.READ_EXTERNAL_STORAGE</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">--å‘èµ·è¯·æ±‚</span></span><br><span class="line">requestPermissions(requirePermissions, permissionRequestCode)</span><br><span class="line"><span class="comment">--æ£€æŸ¥æƒé™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkPermission</span><span class="params">(permission)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>==activity.checkSelfPermission(permission)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--å•çº¯æ£€æŸ¥ä¸€ä¸‹æœ‰æ²¡æœ‰æŒ‡å®šæƒé™</span></span><br><span class="line"><span class="keyword">local</span> flag = checkPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;WRITE_EXTERNAL_STORAGEæ£€æŸ¥ç»“æœ&quot;</span>..<span class="built_in">tostring</span>(flag))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deleteMedia</span><span class="params">(type)</span></span></span><br><span class="line">  <span class="keyword">local</span> uri</span><br><span class="line">  <span class="keyword">local</span> Type</span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">type</span> == <span class="string">&quot;image&quot;</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ­£åœ¨æ¸…ç†å›¾ç‰‡&quot;</span>)</span><br><span class="line">    Type = <span class="string">&quot;å›¾ç‰‡&quot;</span></span><br><span class="line">    uri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">type</span> == <span class="string">&quot;vedio&quot;</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">--print(&quot;æ­£åœ¨æ¸…ç†è§†é¢‘&quot;)</span></span><br><span class="line">    Type = <span class="string">&quot;è§†é¢‘&quot;</span></span><br><span class="line">    uri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">local</span> contentResolver = activity.getContentResolver()</span><br><span class="line">  <span class="keyword">local</span> rowsDeleted = contentResolver.delete(uri, <span class="literal">nil</span>, <span class="literal">nil</span>)</span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">tostring</span>(rowsDeleted)..<span class="string">&quot;ä¸ª&quot;</span>..Type..<span class="string">&quot;æ¸…ç†å®Œæ¯•&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">imgclean.onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  deleteMedia(<span class="string">&quot;image&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">movclean.onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  deleteMedia(<span class="string">&quot;vedio&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ä¸€ä¸ªç®€å•çš„åˆ é™¤å…¨éƒ¨å›¾ç‰‡/è§†é¢‘ç¨‹åºä¾¿å†™å¥½äº†</p>
<p><strong>æ³¨æ„ï¼šè°ƒè¯•æ—¶å€™é»˜è®¤è·å¾—æƒé™ï¼Œæ— éœ€å¼¹çª—ç”³è¯·</strong></p>
<p><strong>å¦‚æœåœ¨è‡ªå·±æ‰‹æœºæµ‹è¯•è¯¥ç¨‹åºï¼Œä¸€å®šè¦æå‰å¤‡ä»½æ–‡ä»¶ï¼ï¼ï¼</strong></p>
<h2 id="æ„å»ºå¯¼å‡º">æ„å»ºå¯¼å‡º</h2>
<p>åœ¨å³ä¸Šè§’ <code>ç«–ç€çš„ä¸‰ä¸ªç‚¹</code> é€‰æ‹© <code>é¡¹ç›®...</code> â†’ <code>æ„å»º</code></p>
<p>ä¼šè‡ªåŠ¨è·³åˆ° NeLuaJ+ Builder ä¸­ï¼Œé€‰æ‹©ä½ çš„é¡¹ç›® â†’ <code>ä¸‹ä¸€æ­¥</code> â†’ <code>å¼€å§‹</code></p>
<p>æ„å»ºçš„apkä½äº <code>/storage/emulated/0/LuaJ/Builds</code></p>
<h2 id="ç¾åŒ–å¸ƒå±€">ç¾åŒ–å¸ƒå±€</h2>
<p>å¦‚æœæƒ³è¦ç®€å•ç¾åŒ–ï¼Œå‚è€ƒæœ€å¼€å¤´æ¨èé˜…è¯»çš„é‚£ç¯‡æ–‡ç« ï¼Œè¿™é‡Œåªåšéšè—æ ‡é¢˜å¤„ç†</p>
<p>åœ¨<code>./main.lua</code>ä¸­æ·»åŠ </p>
<p><code>activity.getSupportActionBar().hide() </code></p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">é¦–é¡µ</a></li>
        
          <li><a href="/about/">å…³äº</a></li>
        
          <li><a href="/archives/">æ–‡ç« </a></li>
        
          <li><a target="_blank" rel="noopener" href="http://github.com/gubaiovo">é¡¹ç›®</a></li>
        
          <li><a href="/search/">æœç´¢</a></li>
        
          <li><a href="/categories/">åˆ†ç±»</a></li>
        
          <li><a href="/links/">é“¾æ¥</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83"><span class="toc-number">1.1.</span> <span class="toc-text">ç¯å¢ƒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.2.</span> <span class="toc-text">åˆ›å»ºé¡¹ç›®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E5%86%99%E5%B8%83%E5%B1%80"><span class="toc-number">1.3.</span> <span class="toc-text">ç¼–å†™å¸ƒå±€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E5%86%99%E9%80%BB%E8%BE%91"><span class="toc-number">1.4.</span> <span class="toc-text">ç¼–å†™é€»è¾‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%94%B3%E8%AF%B7"><span class="toc-number">1.5.</span> <span class="toc-text">æƒé™ç”³è¯·</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E5%AF%BC%E5%87%BA"><span class="toc-number">1.6.</span> <span class="toc-text">æ„å»ºå¯¼å‡º</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BE%8E%E5%8C%96%E5%B8%83%E5%B1%80"><span class="toc-number">1.7.</span> <span class="toc-text">ç¾åŒ–å¸ƒå±€</span></a></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://www.gubaiovo.com/posts/cd2fe6a3.html"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://www.gubaiovo.com/posts/cd2fe6a3.html&text=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://www.gubaiovo.com/posts/cd2fe6a3.html&title=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.gubaiovo.com/posts/cd2fe6a3.html&is_video=false&description=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ&body=Check out this article: https://www.gubaiovo.com/posts/cd2fe6a3.html"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://www.gubaiovo.com/posts/cd2fe6a3.html&title=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://www.gubaiovo.com/posts/cd2fe6a3.html&title=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://www.gubaiovo.com/posts/cd2fe6a3.html&title=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://www.gubaiovo.com/posts/cd2fe6a3.html&title=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://www.gubaiovo.com/posts/cd2fe6a3.html&name=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://www.gubaiovo.com/posts/cd2fe6a3.html&t=å®‰å“ç¯å¢ƒä¸‹Luaå®‰å“å¼€å‘åˆä½“éªŒ"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> èœå•</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> ç›®å½•</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> åˆ†äº«</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> è¿”å›é¡¶éƒ¨</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2024-2026
    gubai
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">é¦–é¡µ</a></li><!--
     --><!--
       --><li><a href="/about/">å…³äº</a></li><!--
     --><!--
       --><li><a href="/archives/">æ–‡ç« </a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/gubaiovo">é¡¹ç›®</a></li><!--
     --><!--
       --><li><a href="/search/">æœç´¢</a></li><!--
     --><!--
       --><li><a href="/categories/">åˆ†ç±»</a></li><!--
     --><!--
       --><li><a href="/links/">é“¾æ¥</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"å¤åˆ¶åˆ°ç²˜è´´æ¿ï¼\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "å¤åˆ¶æˆåŠŸï¼");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
